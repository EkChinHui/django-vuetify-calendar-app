{"remainingRequest":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chinhui\\mysite\\frontend\\cal\\src\\components\\Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\src\\components\\Calendar.vue","mtime":1623345997249},{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chinhui\\mysite\\frontend\\cal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsgaXNBZnRlciwgcGFyc2VJU08gfSBmcm9tICJkYXRlLWZucyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBmb2N1czogIiIsDQogICAgdHlwZTogIm1vbnRoIiwNCiAgICB2YWx1ZTogIiIsDQogICAgbWVudTogZmFsc2UsDQogICAgZXZlbnRzOiBbXSwNCiAgICBzZWxlY3RlZEVsZW1lbnQ6IG51bGwsDQogICAgc2VsZWN0ZWRFdmVudDoge30sDQogICAgc2VsZWN0ZWRPcGVuOiBmYWxzZSwNCiAgICBkaWFsb2c6IGZhbHNlLA0KICAgIG5hbWU6ICIiLA0KICAgIHN0YXJ0bWVudTogIiIsDQogICAgZW5kbWVudTogIiIsDQogICAgc3RhcnREYXRlOiAiIiwNCiAgICBlbmREYXRlOiAiIiwNCiAgICBvcGVuQWxlcnQ6IGZhbHNlLA0KICAgIGFsZXJ0OiAiIiwNCiAgfSksDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRFdmVudHMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldEV2ZW50cygvKnsgc3RhcnQsIGVuZCB9Ki8pIHsNCiAgICAgIGNvbnN0IGV2ZW50cyA9IFtdOw0KICAgICAgbGV0IGRhdGEgPSB7fTsNCiAgICAgIGxldCBldmVudCA9IG51bGw7DQogICAgICBheGlvcw0KICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvY2FsZW5kYXIvIiwgeyBoZWFkZXJzOiB7fSB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgZGF0YSA9IHJlcy5kYXRhLmV2ZW50czsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGV2ZW50ID0gZGF0YVtpXTsNCg0KICAgICAgICAgICAgZXZlbnRzLnB1c2goew0KICAgICAgICAgICAgICBuYW1lOiBldmVudFsibmFtZSJdLA0KICAgICAgICAgICAgICBzdGFydDogZXZlbnRbInN0YXJ0Il0sDQogICAgICAgICAgICAgIGVuZDogZXZlbnRbImVuZCJdLA0KICAgICAgICAgICAgICBjb2xvcjogImJsdWUiLA0KICAgICAgICAgICAgICB0aW1lZDogZmFsc2UsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7DQogICAgfSwNCiAgICBnZXRFdmVudENvbG9yKGV2ZW50KSB7DQogICAgICByZXR1cm4gZXZlbnQuY29sb3I7DQogICAgfSwNCiAgICBybmQoYSwgYikgew0KICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGIgLSBhICsgMSkgKiBNYXRoLnJhbmRvbSgpKSArIGE7DQogICAgfSwNCiAgICBzZXRUb2RheSgpIHsNCiAgICAgIHRoaXMuZm9jdXMgPSAiIjsNCiAgICB9LA0KICAgIG5ld0V2ZW50KCkgew0KICAgICAgaWYgKHRoaXMubmFtZSAmJiB0aGlzLnN0YXJ0RGF0ZSAmJiB0aGlzLmVuZERhdGUpIHsNCiAgICAgICAgLy8gY2hlY2sgZm9yIHZhbGlkYXRpb24gaWYgc3RhcnQgPiBlbmQNCiAgICAgICAgbGV0IHZhbGlkRGF0ZXMgPSB0aGlzLmFyZURhdGVzVmFsaWQodGhpcy5zdGFydERhdGUsIHRoaXMuZW5kRGF0ZSk7DQogICAgICAgIGlmICh2YWxpZERhdGVzKSB7DQogICAgICAgICAgbGV0IGV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudCh0aGlzLm5hbWUsIHRoaXMuc3RhcnREYXRlLCB0aGlzLmVuZERhdGUpOw0KICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2NhbGVuZGFyLyIsIEpTT04uc3RyaW5naWZ5KGV2ZW50KSwgew0KICAgICAgICAgICAgICBoZWFkZXJzOiB7fSwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgICAgIHRoaXMuZ2V0RXZlbnRzKCk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgIC8vIGNsZWFyIGZpZWxkcw0KICAgICAgICAgIHRoaXMubmFtZSA9ICIiOw0KICAgICAgICAgIHRoaXMuc3RhcnREYXRlID0gIiI7DQogICAgICAgICAgdGhpcy5lbmREYXRlID0gIiI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5kaXNwbGF5QWxlcnQoIlN0YXJ0IERhdGUgaGFzIHRvIGJlIGJlZm9yZSBvciBzYW1lIGFzIEVuZCBEYXRlIik7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lICYmIHRoaXMuc3RhcnREYXRlKSB7DQogICAgICAgIGxldCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQodGhpcy5uYW1lLCB0aGlzLnN0YXJ0RGF0ZSwgdGhpcy5zdGFydERhdGUpOw0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvY2FsZW5kYXIvIiwgSlNPTi5zdHJpbmdpZnkoZXZlbnQpLCB7DQogICAgICAgICAgICBoZWFkZXJzOiB7fSwNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgICB0aGlzLmdldEV2ZW50cygpOw0KICAgICAgICAgIH0pOw0KDQogICAgICAgIC8vIGNsZWFyIGZpZWxkcw0KICAgICAgICB0aGlzLm5hbWUgPSAiIjsNCiAgICAgICAgdGhpcy5zdGFydERhdGUgPSAiIjsNCiAgICAgICAgdGhpcy5lbmREYXRlID0gIiI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmRpc3BsYXlBbGVydCgiTmFtZSBhbmQgU3RhcnQgRGF0ZSBhcmUgcmVxdWlyZWQiKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNob3dFdmVudCh7IG5hdGl2ZUV2ZW50LCBldmVudCB9KSB7DQogICAgICBjb25zdCBvcGVuID0gKCkgPT4gew0KICAgICAgICB0aGlzLnNlbGVjdGVkRXZlbnQgPSBldmVudDsNCiAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSBuYXRpdmVFdmVudC50YXJnZXQ7DQogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9Pg0KICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiAodGhpcy5zZWxlY3RlZE9wZW4gPSB0cnVlKSkNCiAgICAgICAgKTsNCiAgICAgIH07DQoNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3Blbikgew0KICAgICAgICB0aGlzLnNlbGVjdGVkT3BlbiA9IGZhbHNlOw0KICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IG9wZW4oKSkpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgb3BlbigpOw0KICAgICAgfQ0KDQogICAgICBuYXRpdmVFdmVudC5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICB9LA0KICAgIHJlbW92ZUV2ZW50KCkgew0KICAgICAgYXhpb3MNCiAgICAgICAgLmRlbGV0ZSgNCiAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2NhbGVuZGFyLyIsDQogICAgICAgICAgeyBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzLnNlbGVjdGVkRXZlbnQpIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgaGVhZGVyczoge30sDQogICAgICAgICAgfQ0KICAgICAgICApDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcGVuID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5nZXRFdmVudHMoKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBjcmVhdGVFdmVudChuYW1lLCBzdGFydERhdGUsIGVuZERhdGUpIHsNCiAgICAgIGxldCBldmVudCA9IHsgbmFtZTogbmFtZSwgc3RhcnQ6IHN0YXJ0RGF0ZSwgZW5kOiBlbmREYXRlIH07DQogICAgICByZXR1cm4gZXZlbnQ7DQogICAgfSwNCiAgICBhcmVEYXRlc1ZhbGlkKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkgew0KICAgICAgcmV0dXJuIGlzQWZ0ZXIocGFyc2VJU08oZW5kRGF0ZSksIHBhcnNlSVNPKHN0YXJ0RGF0ZSkpOw0KICAgIH0sDQogICAgZGlzcGxheUFsZXJ0KG1lc3NhZ2UpIHsNCiAgICAgIHRoaXMuYWxlcnQgPSBtZXNzYWdlOw0KICAgICAgdGhpcy5vcGVuQWxlcnQgPSB0cnVlOw0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMub3BlbkFsZXJ0ID0gZmFsc2U7DQogICAgICB9LCAzMDAwKTsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmFsZXJ0ID0gIiI7DQogICAgICB9LCAzNTAwKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column justify-center\">\r\n    <h1 class=\"text-center ma-10\">Calendar</h1>\r\n    <v-sheet tile height=\"54\" class=\"d-flex\">\r\n      <v-btn class=\"ml-4\" color=\"primary\" @click.stop=\"dialog = true\">\r\n        New Event\r\n      </v-btn>\r\n      <v-btn outlined class=\"mr-4 ml-4\" color=\"grey darken-2\" @click=\"setToday\">\r\n        Today\r\n      </v-btn>\r\n\r\n      <v-btn icon class=\"ml-2\" @click=\"$refs.calendar.prev()\">\r\n        <v-icon>mdi-chevron-left</v-icon>\r\n      </v-btn>\r\n\r\n      <v-btn icon class=\"ml-2\" @click=\"$refs.calendar.next()\">\r\n        <v-icon>mdi-chevron-right</v-icon>\r\n      </v-btn>\r\n      <v-toolbar-title v-if=\"$refs.calendar\" class=\"ml-6\">\r\n        {{ $refs.calendar.title }}\r\n      </v-toolbar-title>\r\n    </v-sheet>\r\n\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      max-width=\"300\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-container>\r\n          <v-form @submit.prevent=\"newEvent\">\r\n            <v-layout col wrap>\r\n              <v-text-field\r\n                v-model=\"name\"\r\n                type=\"text\"\r\n                label=\"Name\"\r\n              ></v-text-field>\r\n              <v-menu\r\n                ref=\"startmenu\"\r\n                v-model=\"startmenu\"\r\n                :close-on-content-click=\"false\"\r\n                :return-value.sync=\"startDate\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-combobox\r\n                    v-model=\"startDate\"\r\n                    chips\r\n                    small-chips\r\n                    label=\"Start date\"\r\n                    prepend-icon=\"mdi-calendar\"\r\n                    readonly\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                  ></v-combobox>\r\n                </template>\r\n                <v-date-picker v-model=\"startDate\" no-title scrollable>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn text color=\"primary\" @click=\"startmenu = false\">\r\n                    Cancel\r\n                  </v-btn>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"$refs.startmenu.save(startDate)\"\r\n                  >\r\n                    OK\r\n                  </v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n\r\n              <v-menu\r\n                ref=\"endmenu\"\r\n                v-model=\"endmenu\"\r\n                :close-on-content-click=\"false\"\r\n                :return-value.sync=\"endDate\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-combobox\r\n                    v-model=\"endDate\"\r\n                    chips\r\n                    small-chips\r\n                    label=\"End date (optional)\"\r\n                    prepend-icon=\"mdi-calendar\"\r\n                    readonly\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                  ></v-combobox>\r\n                </template>\r\n                <v-date-picker v-model=\"endDate\" no-title scrollable>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn text color=\"primary\" @click=\"endmenu = false\">\r\n                    Cancel\r\n                  </v-btn>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"$refs.endmenu.save(endDate)\"\r\n                  >\r\n                    OK\r\n                  </v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n              <v-btn type=\"submit\" color=\"primary\" @click.stop=\"dialog = false\"\r\n                >Create Event</v-btn\r\n              >\r\n            </v-layout>\r\n          </v-form>\r\n        </v-container>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-sheet height=\"600\">\r\n      <v-calendar\r\n        ref=\"calendar\"\r\n        v-model=\"focus\"\r\n        :type=\"type\"\r\n        :events=\"events\"\r\n        :event-overlap-threshold=\"30\"\r\n        :event-color=\"getEventColor\"\r\n        @change=\"getEvents\"\r\n        @click:event=\"showEvent\"\r\n      ></v-calendar>\r\n      <v-menu\r\n        v-model=\"selectedOpen\"\r\n        :close-on-content-click=\"false\"\r\n        :activator=\"selectedElement\"\r\n        offset-x\r\n        max-width=\"400\"\r\n      >\r\n        <v-card color=\"grey lighten-4\" min-width=\"350px\" flat>\r\n          <v-toolbar :color=\"selectedEvent.color\" dark>\r\n            <v-toolbar-title v-html=\"selectedEvent.name\"></v-toolbar-title>\r\n            <v-spacer></v-spacer>\r\n          </v-toolbar>\r\n          <v-card-actions class=\"d-flex justify-space-around\">\r\n            <v-btn text color=\"secondary\" @click=\"selectedOpen = false\">\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn text color=\"red\" @click=\"removeEvent\">\r\n              <!-- <v-icon>mdi-calendar-remove</v-icon> -->\r\n              Remove\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-menu>\r\n    </v-sheet>\r\n    <v-alert\r\n      max-width=\"500\"\r\n      type=\"error\"\r\n      outlined\r\n      transition=\"slide-y-transition\"\r\n      class=\"text-cennter align-self-center\"\r\n      :value=\"openAlert\"\r\n      >{{ alert }}\r\n    </v-alert>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { isAfter, parseISO } from \"date-fns\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    focus: \"\",\r\n    type: \"month\",\r\n    value: \"\",\r\n    menu: false,\r\n    events: [],\r\n    selectedElement: null,\r\n    selectedEvent: {},\r\n    selectedOpen: false,\r\n    dialog: false,\r\n    name: \"\",\r\n    startmenu: \"\",\r\n    endmenu: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    openAlert: false,\r\n    alert: \"\",\r\n  }),\r\n  mounted() {\r\n    this.getEvents();\r\n  },\r\n  methods: {\r\n    getEvents(/*{ start, end }*/) {\r\n      const events = [];\r\n      let data = {};\r\n      let event = null;\r\n      axios\r\n        .get(\"http://localhost:8000/calendar/\", { headers: {} })\r\n        .then((res) => {\r\n          data = res.data.events;\r\n          for (let i = 0; i < data.length; i++) {\r\n            event = data[i];\r\n\r\n            events.push({\r\n              name: event[\"name\"],\r\n              start: event[\"start\"],\r\n              end: event[\"end\"],\r\n              color: \"blue\",\r\n              timed: false,\r\n            });\r\n          }\r\n        });\r\n      this.events = events;\r\n    },\r\n    getEventColor(event) {\r\n      return event.color;\r\n    },\r\n    rnd(a, b) {\r\n      return Math.floor((b - a + 1) * Math.random()) + a;\r\n    },\r\n    setToday() {\r\n      this.focus = \"\";\r\n    },\r\n    newEvent() {\r\n      if (this.name && this.startDate && this.endDate) {\r\n        // check for validation if start > end\r\n        let validDates = this.areDatesValid(this.startDate, this.endDate);\r\n        if (validDates) {\r\n          let event = this.createEvent(this.name, this.startDate, this.endDate);\r\n          axios\r\n            .post(\"http://localhost:8000/calendar/\", JSON.stringify(event), {\r\n              headers: {},\r\n            })\r\n            .then((res) => {\r\n              console.log(res);\r\n              this.getEvents();\r\n            });\r\n\r\n          // clear fields\r\n          this.name = \"\";\r\n          this.startDate = \"\";\r\n          this.endDate = \"\";\r\n        } else {\r\n          this.displayAlert(\"Start Date has to be before or same as End Date\");\r\n        }\r\n      } else if (this.name && this.startDate) {\r\n        let event = this.createEvent(this.name, this.startDate, this.startDate);\r\n        axios\r\n          .post(\"http://localhost:8000/calendar/\", JSON.stringify(event), {\r\n            headers: {},\r\n          })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.getEvents();\r\n          });\r\n\r\n        // clear fields\r\n        this.name = \"\";\r\n        this.startDate = \"\";\r\n        this.endDate = \"\";\r\n      } else {\r\n        this.displayAlert(\"Name and Start Date are required\");\r\n      }\r\n    },\r\n    showEvent({ nativeEvent, event }) {\r\n      const open = () => {\r\n        this.selectedEvent = event;\r\n        this.selectedElement = nativeEvent.target;\r\n        requestAnimationFrame(() =>\r\n          requestAnimationFrame(() => (this.selectedOpen = true))\r\n        );\r\n      };\r\n\r\n      if (this.selectedOpen) {\r\n        this.selectedOpen = false;\r\n        requestAnimationFrame(() => requestAnimationFrame(() => open()));\r\n      } else {\r\n        open();\r\n      }\r\n\r\n      nativeEvent.stopPropagation();\r\n    },\r\n    removeEvent() {\r\n      axios\r\n        .delete(\r\n          \"http://localhost:8000/calendar/\",\r\n          { data: JSON.stringify(this.selectedEvent) },\r\n          {\r\n            headers: {},\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.selectedOpen = false;\r\n          this.getEvents();\r\n        });\r\n    },\r\n    createEvent(name, startDate, endDate) {\r\n      let event = { name: name, start: startDate, end: endDate };\r\n      return event;\r\n    },\r\n    areDatesValid(startDate, endDate) {\r\n      return isAfter(parseISO(endDate), parseISO(startDate));\r\n    },\r\n    displayAlert(message) {\r\n      this.alert = message;\r\n      this.openAlert = true;\r\n      setTimeout(() => {\r\n        this.openAlert = false;\r\n      }, 3000);\r\n      setTimeout(() => {\r\n        this.alert = \"\";\r\n      }, 3500);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}